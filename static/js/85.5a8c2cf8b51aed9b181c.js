webpackJsonp([85],{IRBT:function(t,a,e){var i=e("PkZi");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e("rjj0")("91ffd64a",i,!0)},PkZi:function(t,a,e){(t.exports=e("FZ+f")(!1)).push([t.i,"\n.app-container[data-v-1de70fa3] {\r\n  margin-left: 60px;\n}\n.form-group[data-v-1de70fa3] {\r\n  margin-top: 20px;\n}\n.fonttype[data-v-1de70fa3] {\r\n  display: inline-block;\r\n  font: 16px Medium;\r\n  color: #303133;\r\n  margin-right: 16px;\r\n  width: 6em;\n}\n.inputtext[data-v-1de70fa3] {\r\n  width: 360px;\n}\n.form-group-fleximg[data-v-1de70fa3] {\r\n  margin-top: 20px;\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  -ms-flex-wrap: wrap;\r\n      flex-wrap: wrap;\n}\n.btn-primary[data-v-1de70fa3] {\r\n  margin-left: 180px;\r\n  margin-top: 20px;\r\n  width: 80px;\n}\n.avatar-uploader .el-upload[data-v-1de70fa3] {\r\n  border: 1px dashed #cecbcb;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\n}\n.avatar-uploader .el-upload[data-v-1de70fa3]:hover {\r\n  border-color: #409eff;\n}\n.avatar-uploader-icon[data-v-1de70fa3] {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 148px;\r\n  height: 148px;\r\n  line-height: 148px;\r\n  text-align: center;\n}\n.avatar[data-v-1de70fa3] {\r\n  width: 148px;\r\n  height: 148px;\r\n  display: block;\n}\n.form-group-jianjie[data-v-1de70fa3] {\r\n  margin-top: 20px;\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  -ms-flex-wrap: wrap;\r\n      flex-wrap: wrap;\n}\n.textarea[data-v-1de70fa3] {\r\n  width: 980px;\n}\r\n",""])},tho2:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("jN9j"),o=e("viA7"),d={data:function(){return{videoData:{},updatevideoData:{cid:"",title:"",url:"",description:"",time:"",thumb:"",keyword:"",tag_name:"",doctor_id:"",source:"",subtitle:""},Videocate:null,imageUrl:"",ifimageUrl:!1,oneimagsfile:"",options:[]}},created:function(){this.getAuthor(),this.getVideocatelist()},mounted:function(){this.getVideoId(this.$route.query.id)},methods:{getAuthor:function(){var t=this;Object(o.g)().then(function(a){t.options=t.getOption(a.data)})},getOption:function(t){var a=[{value:0,label:"请选择"}];return t.forEach(function(t){t.author.forEach(function(t){a.push({value:t.id,label:t.name})})}),a},getVideocatelist:function(){var t=this;Object(i.g)().then(function(a){t.Videocate=a.data})},uploadFile:function(t){return this.updatevideoData.thumb=t,this.encodeBase64(t),this.ifimageUrl=!0,!1},encodeBase64:function(t){var a=new FileReader;a.readAsDataURL(t);var e=this;a.onloadend=function(){e.imageUrl=a.result}},getVideoId:function(t){var a=this,e=this;Object(i.e)(t).then(function(t){e.videoData=t.data,t.data.thumb&&(a.imageUrl=t.data.thumb,a.ifimageUrl=!0),e.updatevideoData.id=e.videoData.id,e.updatevideoData.title=e.videoData.title,e.updatevideoData.description=e.videoData.description,e.updatevideoData.thumb=e.videoData.thumb,e.updatevideoData.time=e.videoData.time,e.updatevideoData.cid=e.videoData.type_id,e.updatevideoData.url=e.videoData.url,e.updatevideoData.tag_name=e.videoData.tag_name,e.updatevideoData.keyword=e.videoData.keyword,e.updatevideoData.doctor_id=e.videoData.doctor_id,e.updatevideoData.source=e.videoData.source,e.updatevideoData.subtitle=e.videoData.subtitle})},addvideo:function(){var t=this,a=this,e=new FormData;e.append("title",this.updatevideoData.title),e.append("description",this.updatevideoData.description),e.append("url",this.updatevideoData.url),e.append("thumb",this.updatevideoData.thumb),e.append("cid",this.updatevideoData.cid),e.append("time",this.updatevideoData.time),e.append("keyword",this.updatevideoData.keyword),e.append("tag_name",this.updatevideoData.tag_name),e.append("doctor_id",this.updatevideoData.doctor_id),e.append("source",this.updatevideoData.source),e.append("subtitle",this.updatevideoData.subtitle),e.append("original",""),Object(i.h)(e,this.updatevideoData.id).then(function(e){1==e.status_code&&(a.$router.push("../videocontent"),t.$message({message:"修改成功！",type:"success"}))})}}},s={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"app-container"},[e("h3",[t._v("修改视频")]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"fonttype"},[t._v("视频标题")]),t._v(" "),e("el-input",{staticClass:"inputtext",attrs:{placeholder:"请输入标题"},model:{value:t.updatevideoData.title,callback:function(a){t.$set(t.updatevideoData,"title",a)},expression:"updatevideoData.title"}})],1),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"fonttype"},[t._v("视频副标题")]),t._v(" "),e("el-input",{staticClass:"inputtext",attrs:{type:"text",placeholder:"请输入内容(限制10个汉字)",maxlength:"10","show-word-limit":""},model:{value:t.updatevideoData.subtitle,callback:function(a){t.$set(t.updatevideoData,"subtitle",a)},expression:"updatevideoData.subtitle"}})],1),t._v(" "),e("div",{staticClass:"form-group-fleximg"},[e("label",{staticClass:"fonttype",attrs:{for:"group1"}},[t._v("视频缩略图")]),t._v(" "),e("div",{staticClass:"slimagesfile"},[e("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","list-type":"picture-card","show-file-list":!1,"before-upload":t.uploadFile}},[t.ifimageUrl?e("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)]),t._v(" "),e("div",{staticClass:"form-group-jianjie"},[e("label",{staticClass:"fonttype"},[t._v("视频简介")]),t._v(" "),e("div",{staticClass:"textarea"},[e("el-input",{attrs:{type:"textarea",autosize:{minRows:12,maxRows:4},placeholder:"请输入简介"},model:{value:t.updatevideoData.description,callback:function(a){t.$set(t.updatevideoData,"description",a)},expression:"updatevideoData.description"}})],1)]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"fonttype"},[t._v("视频时长")]),t._v(" "),e("el-input",{staticClass:"inputtext",attrs:{placeholder:"请输入时长"},model:{value:t.updatevideoData.time,callback:function(a){t.$set(t.updatevideoData,"time",a)},expression:"updatevideoData.time"}})],1),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"fonttype"},[t._v("关键字")]),t._v(" "),e("el-input",{staticClass:"inputtext",attrs:{placeholder:"请输入关键字"},model:{value:t.updatevideoData.keyword,callback:function(a){t.$set(t.updatevideoData,"keyword",a)},expression:"updatevideoData.keyword"}})],1),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"fonttype"},[t._v("标签")]),t._v(" "),e("el-input",{staticClass:"inputtext",attrs:{type:"text",placeholder:"请输入内容(限制10个汉字)",maxlength:"10","show-word-limit":""},model:{value:t.updatevideoData.tag_name,callback:function(a){t.$set(t.updatevideoData,"tag_name",a)},expression:"updatevideoData.tag_name"}})],1),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"fonttype"},[t._v("视频类别")]),t._v(" "),e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.updatevideoData.cid,callback:function(a){t.$set(t.updatevideoData,"cid",a)},expression:"updatevideoData.cid"}},t._l(t.Videocate,function(t){return e("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})}))],1),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"fonttype"},[t._v("文章作者")]),t._v(" "),e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.updatevideoData.doctor_id,callback:function(a){t.$set(t.updatevideoData,"doctor_id",a)},expression:"updatevideoData.doctor_id"}},t._l(t.options,function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"fonttype"},[t._v("视频来源")]),t._v(" "),e("el-input",{staticClass:"inputtext",attrs:{placeholder:"请输入视频来源"},model:{value:t.updatevideoData.source,callback:function(a){t.$set(t.updatevideoData,"source",a)},expression:"updatevideoData.source"}})],1),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"fonttype"},[t._v("视频播放地址")]),t._v(" "),e("el-input",{staticClass:"inputtext",attrs:{placeholder:"请输入引用"},model:{value:t.updatevideoData.url,callback:function(a){t.$set(t.updatevideoData,"url",a)},expression:"updatevideoData.url"}})],1),t._v(" "),e("el-button",{staticClass:"btn-primary",attrs:{type:"primary",plain:""},on:{click:t.addvideo}},[t._v("完成")])],1)},staticRenderFns:[]};var n=e("VU/8")(d,s,!1,function(t){e("IRBT")},"data-v-1de70fa3",null);a.default=n.exports}});