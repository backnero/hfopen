webpackJsonp([55],{"6MU9":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("jN9j"),n=i("9q19"),l={data:function(){return{videolist:[],currentPage3:1,listQuery:{page:1,size:15,sort:"desc"},pagelist:"",dialogVisibles:!1,fileSrc:"",ifimageUrl:!1,hotData:{file:"",id:"",title:""}}},created:function(){this.videoList()},methods:{removeClose:function(){this.hotData={file:"",id:""},this.fileSrc="",this.ifimageUrl=!1},uploadFile:function(e){return this.hotData.file=e,this.encodeBase64(e),this.ifimageUrl=!0,!1},encodeBase64:function(e){var t=new FileReader;t.readAsDataURL(e);var i=this;t.onloadend=function(){i.fileSrc=t.result}},handleSizeChange:function(e){this.listQuery.size=e,this.videoList()},handleCurrentChange:function(e){this.listQuery.page=e,this.videoList()},videoList:function(){var e=this;Object(a.f)(this.listQuery).then(function(t){1===e.listQuery.page&&0===t.data.length&&e.$message.error({message:"亲,资源不存在!"}),e.pagelist=t.meta,e.videolist=t.data,e.updateVideolist()})},updateVideolist:function(){for(var e in this.videolist)this.videolist[e].createtime=Object(n.a)(this.videolist[e].createtime)},addVideoData:function(){this.$router.push("videocontent/addvideo")},updateVideo:function(e,t){this.$router.push({path:"videocontent/updatevideo",query:{id:t[e].id}})},deleteVideo:function(e,t){var i=this,n=this;Object(a.d)(t[e].id).then(function(e){1==e.status_code&&(n.videoList(),i.$message({message:"删除成功！",type:"success"}))})},open:function(e){this.hotData.id=e.id,this.hotData.title=e.title,this.dialogVisibles=!0},hot:function(){var e=this,t=new FormData;t.append("thumb",this.hotData.file),Object(a.a)(t,this.hotData.id).then(function(t){1==t.status_code&&(e.$message({message:"已推荐",type:"success"}),e.videoList(),e.dialogVisibles=!1)})}}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"videoindex"},[i("div",{staticClass:"contanier_top"},[i("el-button",{attrs:{type:"primary",icon:"el-icon-plus",plain:""},on:{click:e.addVideoData}},[e._v("添加")])],1),e._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.videolist,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{prop:"title",label:"视频名称",width:"260",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"视频简介",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-popover",{attrs:{placement:"top-start",width:"400",trigger:"click",content:t.row.description}},[i("el-button",{attrs:{slot:"reference"},slot:"reference"},[e._v("详情")])],1)]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"thumb",label:"视频缩略图",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[i("img",{staticStyle:{width:"60px",height:"60px"},attrs:{src:e.row.thumb,alt:""}})]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"time",label:"视频时长",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{prop:"type",label:"视频类别",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{prop:"click",label:"播放次数",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{prop:"createtime",label:"视频添加时间",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{prop:"",label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tag",{directives:[{name:"show",rawName:"v-show",value:2===t.row.hot,expression:"scope.row.hot===2"}]},[e._v("已推荐")]),e._v(" "),i("el-tag",{directives:[{name:"show",rawName:"v-show",value:1===t.row.hot,expression:"scope.row.hot===1"}]},[e._v("普通")])]}}])}),e._v(" "),i("el-table-column",{attrs:{fixed:"right",width:"260",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"primary",plain:!0,size:"small"},nativeOn:{click:function(i){i.preventDefault(),e.open(t.row)}}},[e._v("推荐")]),e._v(" "),i("el-button",{attrs:{type:"primary",plain:!0,size:"small"},nativeOn:{click:function(i){i.preventDefault(),e.updateVideo(t.$index,e.videolist)}}},[e._v("修改")]),e._v(" "),i("el-button",{attrs:{type:"primary",plain:!0,size:"small"},nativeOn:{click:function(i){i.preventDefault(),e.deleteVideo(t.$index,e.videolist)}}},[e._v("删除")])]}}])})],1),e._v(" "),i("el-dialog",{attrs:{title:"视频推荐",visible:e.dialogVisibles,width:"35em"},on:{"update:visible":function(t){e.dialogVisibles=t},close:e.removeClose}},[i("ul",{attrs:{name:"article_recommended"}},[i("li",[i("label",[e._v("视频id：")]),e._v("\n        "+e._s(e.hotData.id)+"\n      ")]),e._v(" "),i("li",[i("label",[e._v("视频标题：")]),e._v(" "),i("span",{staticClass:"title_width"},[e._v(e._s(e.hotData.title))])]),e._v(" "),i("li",[i("label",[e._v("推荐图片：")]),e._v(" "),i("el-upload",{ref:"title_tm",staticClass:"avatar-uploader",attrs:{action:"","list-type":"picture-card","show-file-list":!1,"before-upload":e.uploadFile}},[e.ifimageUrl?i("span",{staticClass:"imgr_i"},[i("img",{staticClass:"avatar",attrs:{src:e.fileSrc}})]):i("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)]),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogVisibles=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.hot}},[e._v("确 定")])],1)]),e._v(" "),i("div",{staticClass:"block"},[i("el-pagination",{attrs:{"current-page":e.currentPage3,"page-size":15,layout:"prev, pager, next, jumper",total:e.pagelist.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage3=t}}})],1)],1)},staticRenderFns:[]};var d=i("VU/8")(l,o,!1,function(e){i("Zfcq")},"data-v-6075eed9",null);t.default=d.exports},AWsz:function(e,t,i){(e.exports=i("FZ+f")(!1)).push([e.i,'\n.videoindex[data-v-6075eed9] {\n  width: 97%;\n  height: 100%;\n  margin-left: 1.5%;\n  padding: 0;\n}\n.videoindex .contanier_top[data-v-6075eed9] {\n    width: 100%;\n    text-align: right;\n    margin-bottom: 1%;\n}\n.videoindex ul[name="article_recommended"][data-v-6075eed9] {\n    list-style: none;\n    -webkit-padding-start: 0;\n            padding-inline-start: 0;\n}\n.videoindex ul[name="article_recommended"] label[data-v-6075eed9] {\n      width: 5em;\n      text-align: right;\n}\n.videoindex ul[name="article_recommended"] .title_width[data-v-6075eed9] {\n      width: 26em;\n}\n.videoindex ul[name="article_recommended"] li[data-v-6075eed9] {\n      padding-bottom: 20px;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n}\n.videoindex .avatar[data-v-6075eed9] {\n    width: 100%;\n    height: 100%;\n}\n.videoindex .block[data-v-6075eed9] {\n    margin-top: 40px;\n    margin-bottom: 40px;\n    position: absolute;\n    right: 55px;\n}\n.videoindex .el-dialog__wrapper[data-v-6075eed9] .el-dialog {\n    overflow: hidden;\n    border-radius: 5px;\n    margin-bottom: 5vh;\n}\n.videoindex .el-dialog__wrapper[data-v-6075eed9] .el-dialog .el-dialog__footer {\n      padding: 10px 23px 20px;\n      text-align: right;\n      -webkit-box-sizing: border-box;\n      box-sizing: border-box;\n}\n.videoindex .el-dialog__wrapper[data-v-6075eed9] .el-dialog .el-dialog__header {\n      padding: 12px 23px 8px;\n      background: #409eff;\n}\n.videoindex .el-dialog__wrapper[data-v-6075eed9] .el-dialog .el-dialog__header .el-dialog__title {\n        color: #fff;\n        font-size: 18px;\n        font-weight: 500;\n}\n.videoindex .el-dialog__wrapper[data-v-6075eed9] .el-dialog .el-dialog__header .el-dialog__headerbtn {\n        top: 15px;\n}\n.videoindex .el-dialog__wrapper[data-v-6075eed9] .el-dialog .el-dialog__header .el-dialog__headerbtn .el-dialog__close {\n          color: #fff;\n}\n.videoindex .el-dialog__wrapper[data-v-6075eed9] .el-dialog .el-dialog__body {\n      padding: 30px 23px 0;\n      color: #606266;\n      line-height: 24px;\n      font-size: 16px;\n}\n.videoindex .el-table[data-v-6075eed9] {\n    width: 100%;\n    border: 1px solid #ebeef5;\n}\n.videoindex .el-table[data-v-6075eed9] .cell {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-pack: center;\n          -ms-flex-pack: center;\n              justify-content: center;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      -ms-flex-wrap: wrap;\n          flex-wrap: wrap;\n}\n.videoindex .el-table[data-v-6075eed9] .cell /deep/ .el-tag {\n        margin: 2px 4px;\n        border: none;\n}\n.videoindex .el-table[data-v-6075eed9] .cell /deep/ .el-button {\n        border: none;\n}\n.videoindex .el-table[data-v-6075eed9] th {\n      background-color: #ecf5ff;\n      color: #333333;\n      padding: 12px 0;\n      border: none;\n}\n.videoindex .el-table[data-v-6075eed9] .el-table__header-wrapper {\n      background-color: #ecf5ff;\n}\n.videoindex .el-table[data-v-6075eed9] td {\n      border: none;\n      border-bottom: 1px solid #ebeef5;\n      padding: 6px 0;\n}\n',""])},Zfcq:function(e,t,i){var a=i("AWsz");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i("rjj0")("207ea8a0",a,!0)}});