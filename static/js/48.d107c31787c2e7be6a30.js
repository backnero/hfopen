webpackJsonp([48],{"CH/6":function(a,t,e){var n=e("QCYc");"string"==typeof n&&(n=[[a.i,n,""]]),n.locals&&(a.exports=n.locals);e("rjj0")("053798ac",n,!0)},QCYc:function(a,t,e){(a.exports=e("FZ+f")(!1)).push([a.i,"\n.app-container[data-v-6eaffa80] {\r\n  margin-left: 60px;\n}\n.form-group[data-v-6eaffa80] {\r\n  margin-top: 20px;\n}\n.fonttype[data-v-6eaffa80] {\r\n  font: 16px Medium;\r\n  color: #303133;\r\n  margin-right: 16px;\n}\n.inputtext[data-v-6eaffa80] {\r\n  width: 360px;\n}\n.form-group-fleximg[data-v-6eaffa80] {\r\n  margin-top: 20px;\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  -ms-flex-wrap: wrap;\r\n      flex-wrap: wrap;\n}\n.btn-primary[data-v-6eaffa80] {\r\n  margin-left: 180px;\r\n  margin-top: 20px;\r\n  width: 80px;\n}\n.avatar-uploader .el-upload[data-v-6eaffa80] {\r\n  border: 1px dashed #cecbcb;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\n}\n.avatar-uploader .el-upload[data-v-6eaffa80]:hover {\r\n  border-color: #409eff;\n}\n.avatar-uploader-icon[data-v-6eaffa80] {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 148px;\r\n  height: 148px;\r\n  line-height: 148px;\r\n  text-align: center;\n}\n.avatar[data-v-6eaffa80] {\r\n  width: 148px;\r\n  height: 148px;\r\n  display: block;\n}\n.editer[data-v-6eaffa80] {\r\n  height: 280px;\n}\n.form-group-editer[data-v-6eaffa80] {\r\n  margin-top: 60px;\n}\n.editer[data-v-6eaffa80] {\r\n  height: 480px;\n}\n.form-group-jianjie[data-v-6eaffa80] {\r\n  margin-top: 20px;\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  -ms-flex-wrap: wrap;\r\n      flex-wrap: wrap;\n}\r\n",""])},vOtk:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e("u7a5"),i=e("YC1Z"),r={data:function(){return{config:{initialFrameWidth:null,initialFrameHeight:350},communityData:{},updateCommunityData:{description:"",thumb:null,name:null,enabled:""},editorOption:{},imageUrl:"",ifimageUrl:!1,oneimagsfile:""}},mounted:function(){this.getCommId(this.$route.query.id)},methods:{$imgAdd:function(a,t){var e=this,n=new FormData;n.append("images",t),n.append("title",t.name),Object(i.f)(n).then(function(t){1==t.status_code&&e.$refs.md.$img2Url(a,t.url)})},uploadFile:function(a){return this.updateCommunityData.thumb=a,this.encodeBase64(a),this.ifimageUrl=!0,!1},encodeBase64:function(a){var t=new FileReader;t.readAsDataURL(a);var e=this;t.onloadend=function(){e.imageUrl=t.result}},getCommId:function(a){var t=this,e=this;Object(n.c)(a).then(function(a){e.communityData=a.data,a.data.thumb&&(t.imageUrl=a.data.thumb,t.ifimageUrl=!0),e.updateCommunityData.id=e.communityData.id,e.updateCommunityData.enabled=e.communityData.enabled,e.updateCommunityData.description=e.communityData.description,e.updateCommunityData.thumb=e.communityData.thumb,e.updateCommunityData.name=e.communityData.name})},updateComm:function(){var a=this,t=this;console.log(this.updateCommunityData);var e=new FormData;e.append("name",this.updateCommunityData.name),e.append("description",this.updateCommunityData.description),e.append("enabled",this.updateCommunityData.enabled),e.append("thumb",this.updateCommunityData.thumb),Object(n.e)(e,this.updateCommunityData.id).then(function(e){1==e.status_code&&(t.$router.push("../community"),a.$message({message:"修改成功！",type:"success"}))})}}},o={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"app-container"},[e("h3",[a._v("修改社区")]),a._v(" "),e("div",{staticClass:"form-group-fleximg"},[e("label",{staticClass:"fonttype",attrs:{for:"group1"}},[a._v("社区图片")]),a._v(" "),e("div",{staticClass:"slimagesfile"},[e("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","list-type":"picture-card","show-file-list":!1,"before-upload":a.uploadFile}},[a.ifimageUrl?e("img",{staticClass:"avatar",attrs:{src:a.imageUrl}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)]),a._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"fonttype"},[a._v("社区名称")]),a._v(" "),e("el-input",{staticClass:"inputtext",attrs:{placeholder:"请输入标题"},model:{value:a.updateCommunityData.name,callback:function(t){a.$set(a.updateCommunityData,"name",t)},expression:"updateCommunityData.name"}})],1),a._v(" "),e("div",{staticClass:"form-group-jianjie"},[e("label",{staticClass:"fonttype"},[a._v("社区简介")]),a._v(" "),e("div",{staticClass:"editor-container"},[e("div",{staticClass:"editor-container"},[e("mavon-editor",{ref:"md",staticClass:"editer",on:{imgAdd:a.$imgAdd},model:{value:a.updateCommunityData.description,callback:function(t){a.$set(a.updateCommunityData,"description",t)},expression:"updateCommunityData.description"}})],1)])]),a._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"fonttype"},[a._v("社区状态")]),a._v(" "),e("el-radio",{attrs:{label:0},model:{value:a.updateCommunityData.enabled,callback:function(t){a.$set(a.updateCommunityData,"enabled",t)},expression:"updateCommunityData.enabled"}},[a._v("未启用")]),a._v(" "),e("el-radio",{attrs:{label:1},model:{value:a.updateCommunityData.enabled,callback:function(t){a.$set(a.updateCommunityData,"enabled",t)},expression:"updateCommunityData.enabled"}},[a._v("启用")])],1),a._v(" "),e("el-button",{staticClass:"btn-primary",attrs:{type:"primary",plain:""},on:{click:a.updateComm}},[a._v("完成")])],1)},staticRenderFns:[]};var d=e("VU/8")(r,o,!1,function(a){e("CH/6")},"data-v-6eaffa80",null);t.default=d.exports}});