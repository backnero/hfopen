webpackJsonp([32],{"91lr":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("vLgD");var n=a("xT6B"),i={data:function(){return{value1:!0,value2:!1,status:!0,dialogVisiblesx:!1,dialogcreate:!1,dialogUpdate:!1,symptomsData:{},currentPage3:1,Choose:[{value:1,label:"竖式"},{value:2,label:"卧式"}],value8:"",listQuery:{page:1,size:10,type:"",point:""},pagelist:"",list:[]}},created:function(){this.getData()},filters:{formatDate:function(e){var t=new Date(1e3*e);return Object(n.b)(t,"yyyy-MM-dd hh:mm")}},methods:{getData:function(){var e,t=this;(e=this.listQuery,Object(l.a)({url:"/terminal/list",method:"GET",params:e})).then(function(e){1===t.listQuery.page&&0===e.data.length&&t.$message.error({message:"亲,资源不存在!"}),1!==t.listQuery.page&&0===e.data.length&&(t.$message({message:"此页资源不存在!帮您返回上一页"}),--t.listQuery.page,t.getData()),t.list=e.data,t.pagelist=e.meta})},upData:function(e){var t=this;(function(e){return Object(l.a)({url:"/terminal/"+e,method:"GET"})})(e).then(function(e){t.symptomsData=e.data,t.dialogUpdate=!0})},upsave:function(){var e,t=this;(e=t.symptomsData,Object(l.a)({url:"/terminal/update/"+e.id,method:"PUT",data:e})).then(function(e){1===e.status_code&&(t.getData(),t.dialogUpdate=!1,t.$message({message:"修改成功！",type:"success"}))})},handleSizeChange:function(e){this.listQuery.size=e,this.getData()},handleCurrentChange:function(e){this.listQuery.page=e,this.getData()},handleSelectionChange:function(e){this.multipleSelection=e},getRowkey:function(e){return e.id},savedel:function(){var e,t=this,a=this,n={tids:this.Code};(e=n,Object(l.a)({url:"/terminal/del",method:"DELETE",data:e})).then(function(e){1===e.status_code&&(a.getData(),a.dialogVisiblesx=!1,a.$message({message:"删除成功！",type:"success"}),a.$refs.multipleTable.clearSelection()),t.dialogVisiblesx=!1})},delData:function(e){if(e)this.$refs.multipleTable.toggleRowSelection(e,!0),this.Code=e.terminalId,this.dialogVisiblesx=!0;else if(this.multipleSelection.length>0){this.dialogVisiblesx=!0;var t="";this.multipleSelection.forEach(function(e,a){t+=e.terminalId+","}),this.Code=t.slice(0,t.lastIndexOf(","))}else this.$message({message:"警告哦，请选择一条或者您要删除的多条数据！",type:"warning"})},addsave:function(){var e,t=this;(e=this.symptomsData,Object(l.a)({url:"/terminal/add",method:"POST",data:e})).then(function(e){1===e.status_code&&(t.$message({message:"添加成功！",type:"success"}),t.dialogcreate=!1,t.getData())})},triggerClick:function(e){this.copy(e.currentTarget.innerText)},copy:function(e){var t=document.createElement("input");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("Copy"),t.style.display="none",document.body.removeChild(t),this.$notify({title:"复制成功",message:"已复制到剪切板",type:"success"})},removeClose:function(){this.symptomsData={}}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"terminalList"},[a("div",{staticClass:"contanier_top"},[a("div",{staticClass:"top-left"},[a("span",[a("el-input",{attrs:{placeholder:"请输入机构名称"},model:{value:e.listQuery.point,callback:function(t){e.$set(e.listQuery,"point",t)},expression:"listQuery.point"}})],1),e._v(" "),a("span",[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.listQuery.type,callback:function(t){e.$set(e.listQuery,"type",t)},expression:"listQuery.type"}},[a("el-option",{attrs:{value:"",label:"全部"}}),e._v(" "),e._l(e.Choose,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})],2)],1),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){e.getData()}}},[e._v("查询")])],1),e._v(" "),a("div",{staticClass:"top-right"},[a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-plus"},on:{click:function(t){e.dialogcreate=!0}}},[e._v("新增")]),e._v(" "),a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-delete"},on:{click:function(t){e.delData()}}},[e._v("删除")])],1)]),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":"","row-key":e.getRowkey},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection","reserve-selection":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"terminalId",label:"ID",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"secret",label:"密钥",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{directives:[{name:"show",rawName:"v-show",value:1===t.row.type,expression:"scope.row.type===1"}]},[e._v("竖式")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:2===t.row.type,expression:"scope.row.type===2"}]},[e._v("卧式")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"organization",label:"所属机构",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"所在地址",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createtime",label:"添加时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDate")(t.row.createtime)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"url",label:"访问地址",align:"center",width:"260"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticStyle:{color:"#409EFF"},on:{click:e.triggerClick}},[e._v(e._s(t.row.url))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"used",label:"问卷提交统计",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{directives:[{name:"show",rawName:"v-show",value:1===t.row.enabled,expression:"scope.row.enabled===1"}]},[a("el-switch",{attrs:{disabled:""},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}})],1),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:0===t.row.enabled,expression:"scope.row.enabled===0"}]},[a("el-switch",{attrs:{disabled:""},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",plain:!0},nativeOn:{click:function(a){a.preventDefault(),e.upData(t.row.terminalId)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{type:"primary",plain:!0},nativeOn:{click:function(a){a.preventDefault(),e.delData(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"删除",visible:e.dialogVisiblesx,width:"35em"},on:{"update:visible":function(t){e.dialogVisiblesx=t}}},[a("span",[e._v("确定删除一个题目吗?")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisiblesx=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.savedel}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"新增",visible:e.dialogcreate,width:"40em"},on:{"update:visible":function(t){e.dialogcreate=t},close:e.removeClose}},[a("ul",{attrs:{name:"dialogbody"}},[a("li",[a("label",[e._v("终端机所属机构：")]),e._v(" "),a("span",[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.symptomsData.organization,callback:function(t){e.$set(e.symptomsData,"organization",t)},expression:"symptomsData.organization"}})],1)]),e._v(" "),a("li",[a("label",[e._v("终端机所在地址：")]),e._v(" "),a("span",[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.symptomsData.address,callback:function(t){e.$set(e.symptomsData,"address",t)},expression:"symptomsData.address"}})],1)]),e._v(" "),a("li",[a("label",[e._v("经度：")]),e._v(" "),a("span",[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.symptomsData.longitude,callback:function(t){e.$set(e.symptomsData,"longitude",t)},expression:"symptomsData.longitude"}})],1)]),e._v(" "),a("li",[a("label",[e._v("纬度：")]),e._v(" "),a("span",[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.symptomsData.latitude,callback:function(t){e.$set(e.symptomsData,"latitude",t)},expression:"symptomsData.latitude"}})],1)]),e._v(" "),a("li",[a("label",[e._v("终端机类型：")]),e._v(" "),a("span",[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.symptomsData.type,callback:function(t){e.$set(e.symptomsData,"type",t)},expression:"symptomsData.type"}},e._l(e.Choose,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogcreate=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.addsave}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:e.dialogUpdate,width:"40em"},on:{"update:visible":function(t){e.dialogUpdate=t},close:e.removeClose}},[a("ul",{attrs:{name:"dialogbody"}},[a("li",[a("label",[e._v("终端机所属机构：")]),e._v(" "),a("span",[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.symptomsData.organization,callback:function(t){e.$set(e.symptomsData,"organization",t)},expression:"symptomsData.organization"}})],1)]),e._v(" "),a("li",[a("label",[e._v("终端机所在地址：")]),e._v(" "),a("span",[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.symptomsData.address,callback:function(t){e.$set(e.symptomsData,"address",t)},expression:"symptomsData.address"}})],1)]),e._v(" "),a("li",[a("label",[e._v("经度：")]),e._v(" "),a("span",[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.symptomsData.longitude,callback:function(t){e.$set(e.symptomsData,"longitude",t)},expression:"symptomsData.longitude"}})],1)]),e._v(" "),a("li",[a("label",[e._v("纬度：")]),e._v(" "),a("span",[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.symptomsData.latitude,callback:function(t){e.$set(e.symptomsData,"latitude",t)},expression:"symptomsData.latitude"}})],1)]),e._v(" "),a("li",[a("label",[e._v("终端机类型：")]),e._v(" "),a("span",[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.symptomsData.type,callback:function(t){e.$set(e.symptomsData,"type",t)},expression:"symptomsData.type"}},e._l(e.Choose,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogUpdate=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.upsave}},[e._v("确 定")])],1)]),e._v(" "),a("el-pagination",{staticStyle:{"text-align":"right",margin:"20px 0"},attrs:{"current-page":e.currentPage3,"page-size":e.listQuery.size,layout:"prev, pager, next, jumper",total:e.pagelist.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage3=t}}})],1)},staticRenderFns:[]};var s=a("VU/8")(i,o,!1,function(e){a("GjWY")},"data-v-af496968",null);t.default=s.exports},GjWY:function(e,t,a){var l=a("aeej");"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);a("rjj0")("77b8fdfa",l,!0)},aeej:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,'\n.terminalList[data-v-af496968] {\n  width: 97%;\n  height: 100%;\n  margin-left: 1.5%;\n  padding: 0;\n}\n.terminalList .contanier_top[data-v-af496968] {\n    width: 100%;\n    min-height: 41px;\n    margin-bottom: 1%;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-wrap: wrap;\n        flex-wrap: wrap;\n}\n.terminalList .contanier_top .top-left[data-v-af496968] {\n      width: 85em;\n      height: 100%;\n      text-align: left;\n}\n.terminalList .contanier_top .top-left > span[data-v-af496968] {\n        margin-right: 50px;\n}\n.terminalList .contanier_top .top-left > .left_select[data-v-af496968] .el-input {\n        width: 100%;\n}\n.terminalList .contanier_top .top-left[data-v-af496968] .el-input {\n        width: 14em;\n}\n.terminalList .contanier_top .top-left[data-v-af496968] .el-input__suffix {\n        right: 0;\n}\n.terminalList .contanier_top .top-left[data-v-af496968] .el-input__inner {\n        border: none;\n        border-bottom: 1px solid #dcdfe6;\n        line-height: 35px;\n        height: 35px;\n        border-radius: 0;\n}\n.terminalList .contanier_top .top-right[data-v-af496968] {\n      -webkit-box-flex: 1;\n          -ms-flex-positive: 1;\n              flex-grow: 1;\n      text-align: right;\n}\n.terminalList ul[name="dialogbody"][data-v-af496968] {\n    list-style: none;\n}\n.terminalList ul[name="dialogbody"] li[data-v-af496968] {\n      padding-bottom: 1em;\n}\n.terminalList ul[name="dialogbody"] li label[data-v-af496968] {\n        display: inline-block;\n        text-align: right;\n        width: 8em;\n        font-weight: 500;\n}\n.terminalList ul[name="dialogbody"] li span[data-v-af496968] {\n        display: inline-block;\n        width: 20em;\n}\n.terminalList ul[name="dialogbody"] li span > .el-select[data-v-af496968] {\n          width: 100%;\n}\n.terminalList ul[name="dialogbody"] li[name="li_jingji"][data-v-af496968] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n}\n.el-table[data-v-af496968] {\n  width: 100%;\n  border: 1px solid #ebeef5;\n}\n.el-table[data-v-af496968] .cell {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -ms-flex-wrap: wrap;\n        flex-wrap: wrap;\n}\n.el-table[data-v-af496968] .cell /deep/ .el-tag {\n      margin: 2px 4px;\n      border: none;\n}\n.el-table[data-v-af496968] .cell /deep/ .el-button {\n      border: none;\n}\n.el-table[data-v-af496968] th {\n    background-color: #ecf5ff;\n    color: #333333;\n    padding: 12px 0;\n    border: none;\n}\n.el-table[data-v-af496968] .el-table__header-wrapper {\n    background-color: #ecf5ff;\n}\n.el-table[data-v-af496968] td {\n    border: none;\n    border-bottom: 1px solid #ebeef5;\n    padding: 6px 0;\n}\n.el-dialog__wrapper[data-v-af496968] .el-dialog {\n  overflow: hidden;\n  border-radius: 5px;\n  margin-bottom: 5vh;\n}\n.el-dialog__wrapper[data-v-af496968] .el-dialog .el-dialog__footer {\n    padding: 10px 23px 20px;\n    text-align: right;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n}\n.el-dialog__wrapper[data-v-af496968] .el-dialog .el-dialog__header {\n    padding: 12px 23px 8px;\n    background: #409eff;\n}\n.el-dialog__wrapper[data-v-af496968] .el-dialog .el-dialog__header .el-dialog__title {\n      color: #fff;\n      font-size: 18px;\n      font-weight: 500;\n}\n.el-dialog__wrapper[data-v-af496968] .el-dialog .el-dialog__header .el-dialog__headerbtn {\n      top: 15px;\n}\n.el-dialog__wrapper[data-v-af496968] .el-dialog .el-dialog__header .el-dialog__headerbtn .el-dialog__close {\n        color: #fff;\n}\n.el-dialog__wrapper[data-v-af496968] .el-dialog .el-dialog__body {\n    padding: 30px 23px 0;\n    color: #606266;\n    line-height: 24px;\n    font-size: 16px;\n}\n',""])}});