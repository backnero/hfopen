webpackJsonp([90],{"9NPw":function(a,e,t){var l=t("Ilwu");"string"==typeof l&&(l=[[a.i,l,""]]),l.locals&&(a.exports=l.locals);t("rjj0")("147060cc",l,!0)},Ilwu:function(a,e,t){(a.exports=t("FZ+f")(!1)).push([a.i,'\n.questionnaire[data-v-11ab4157] {\n  width: 97%;\n  height: 100%;\n  margin-left: 1.5%;\n  padding: 0;\n}\n.questionnaire .contanier_top[data-v-11ab4157] {\n    width: 100%;\n    height: 41px;\n    margin-bottom: 1%;\n    position: relative;\n}\n.questionnaire .contanier_top .top-left[data-v-11ab4157] {\n      width: 100%;\n      height: 100%;\n      position: absolute;\n      left: 0;\n}\n.questionnaire .contanier_top .top-left > span[data-v-11ab4157] {\n        margin-right: 50px;\n}\n.questionnaire .contanier_top .top-left[data-v-11ab4157] .el-input {\n        width: 10%;\n}\n.questionnaire .contanier_top .top-left[data-v-11ab4157] .el-input__suffix {\n        right: 0;\n}\n.questionnaire .contanier_top .top-left[data-v-11ab4157] .el-input__inner {\n        border: none;\n        border-bottom: 1px solid #dcdfe6;\n        line-height: 35px;\n        height: 35px;\n        border-radius: 0;\n}\n.questionnaire .contanier_top .top-right[data-v-11ab4157] {\n      position: absolute;\n      right: 0;\n}\n.questionnaire ul[name="dialogbody"][data-v-11ab4157] {\n    list-style: none;\n}\n.questionnaire ul[name="dialogbody"] li[data-v-11ab4157] {\n      padding-bottom: 1em;\n}\n.questionnaire ul[name="dialogbody"] li > label[data-v-11ab4157] {\n        display: inline-block;\n        text-align: right;\n        width: 5em;\n        font-weight: 500;\n}\n.questionnaire ul[name="dialogbody"] li span[data-v-11ab4157] {\n        display: inline-block;\n        width: 20em;\n}\n.questionnaire ul[name="dialogbody"] li span > .el-select[data-v-11ab4157] {\n          width: 100%;\n}\n.questionnaire ul[name="dialogbody"] li[name="li_jingji"][data-v-11ab4157] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n}\n.questionnaire ul[name="dialogbody"] li[name="li_jingji"] .el-radio + .el-radio[data-v-11ab4157] {\n        margin-left: 20px;\n}\n.questionnaire ul[name="dialogbody"][data-v-11ab4157] .avatar-uploader {\n      display: inline-block;\n      vertical-align: middle;\n}\n.questionnaire ul[name="dialogbody"][data-v-11ab4157] .avatar-uploader .el-upload {\n        border: 1px dashed #d9d9d9;\n        border-radius: 50%;\n        background: #eeeeee;\n        cursor: pointer;\n        position: relative;\n        overflow: hidden;\n}\n.questionnaire ul[name="dialogbody"][data-v-11ab4157] .avatar-uploader .el-upload:hover {\n        border-color: #409eff;\n}\n.questionnaire ul[name="dialogbody"][data-v-11ab4157] .avatar-uploader .avatar-uploader-icon {\n        font-size: 28px;\n        color: #8c939d;\n        width: 70px;\n        height: 70px;\n        line-height: 70px;\n        text-align: center;\n}\n.questionnaire ul[name="dialogbody"][data-v-11ab4157] .avatar-uploader .avatar {\n        width: 70px;\n        height: 70px;\n        display: block;\n}\n.questionnaire .block[data-v-11ab4157] {\n    margin-top: 40px;\n    margin-bottom: 40px;\n    position: absolute;\n    right: 55px;\n}\n.questionnaire .el-table[data-v-11ab4157] {\n    width: 100%;\n    border: 1px solid #ebeef5;\n}\n.questionnaire .el-table[data-v-11ab4157] .cell {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-pack: center;\n          -ms-flex-pack: center;\n              justify-content: center;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      -ms-flex-wrap: wrap;\n          flex-wrap: wrap;\n}\n.questionnaire .el-table[data-v-11ab4157] .cell /deep/ .el-tag {\n        margin: 2px 4px;\n        border: none;\n}\n.questionnaire .el-table[data-v-11ab4157] .cell /deep/ .el-button {\n        border: none;\n}\n.questionnaire .el-table[data-v-11ab4157] th {\n      background-color: #ecf5ff;\n      color: #333333;\n      padding: 12px 0;\n      border: none;\n}\n.questionnaire .el-table[data-v-11ab4157] .el-table__header-wrapper {\n      background-color: #ecf5ff;\n}\n.questionnaire .el-table[data-v-11ab4157] td {\n      border: none;\n      border-bottom: 1px solid #ebeef5;\n      padding: 6px 0;\n}\n.questionnaire .el-dialog__wrapper[data-v-11ab4157] .el-dialog {\n    overflow: hidden;\n    border-radius: 5px;\n    margin-bottom: 5vh;\n}\n.questionnaire .el-dialog__wrapper[data-v-11ab4157] .el-dialog .el-dialog__footer {\n      padding: 10px 23px 20px;\n      text-align: right;\n      -webkit-box-sizing: border-box;\n      box-sizing: border-box;\n}\n.questionnaire .el-dialog__wrapper[data-v-11ab4157] .el-dialog .el-dialog__header {\n      padding: 12px 23px 8px;\n      background: #409eff;\n}\n.questionnaire .el-dialog__wrapper[data-v-11ab4157] .el-dialog .el-dialog__header .el-dialog__title {\n        color: #fff;\n        font-size: 18px;\n        font-weight: 500;\n}\n.questionnaire .el-dialog__wrapper[data-v-11ab4157] .el-dialog .el-dialog__header .el-dialog__headerbtn {\n        top: 15px;\n}\n.questionnaire .el-dialog__wrapper[data-v-11ab4157] .el-dialog .el-dialog__header .el-dialog__headerbtn .el-dialog__close {\n          color: #fff;\n}\n.questionnaire .el-dialog__wrapper[data-v-11ab4157] .el-dialog .el-dialog__body {\n      padding: 30px 23px 0;\n      color: #606266;\n      line-height: 24px;\n      font-size: 16px;\n}\n',""])},Xi4K:function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=t("vLgD");var i={data:function(){return{value1:!0,value2:!1,status:!0,currentPage3:1,dialogVisiblesx:!1,Thumbnailurl:"",Thumbnailurls:"",pagelist:"",Code:"",dialogcreate:!1,dialogUpdate:!1,loading:!0,multipleSelection:[],symptomsData:{title:"",thumb:"",thumb_mini:"",displayorder:"",label_id:[],top:""},options:[],value8:"",listQuery:{size:15,page:1,type:"",point:""},list:[]}},created:function(){this.getData(),this.getOptions()},methods:{getOptions:function(){var a=this;Object(l.a)({url:"health/surveyLabelList",method:"get"}).then(function(e){a.options=e.data.data})},handleSizeChange:function(a){this.listQuery.size=a,this.getData()},handleCurrentChange:function(a){this.listQuery.page=a,this.getData()},handleSelectionChange:function(a){this.multipleSelection=a},beforeThumbnail:function(a){return this.symptomsData.thumb=a,this.base64obj(a),!1},beforeThumbnails:function(a){return this.symptomsData.thumb_mini=a,this.base64objs(a),!1},base64obj:function(a){var e=new FileReader;e.readAsDataURL(a);var t=this;e.onloadend=function(){t.Thumbnailurl=e.result}},base64objs:function(a){var e=new FileReader;e.readAsDataURL(a);var t=this;e.onloadend=function(){t.Thumbnailurls=e.result}},getRowkey:function(a){return a.id},getData:function(){var a,e=this;(a=this.listQuery,Object(l.a)({url:"/health/surveyList",method:"get",params:a})).then(function(a){1===e.listQuery.page&&0===a.data.length&&e.$message.error({message:"亲,资源不存在!"}),1!==e.listQuery.page&&0===a.data.length&&(e.$message({message:"此页资源不存在!帮您返回上一页"}),e.dialogVisiblesx=!1,--e.listQuery.page,e.getData()),e.list=a.data,e.pagelist=a.meta,e.loading=!1})},upData:function(a){var e=this;(function(a){return Object(l.a)({url:"/health/surveyDetail/"+a,method:"get"})})(a).then(function(a){e.symptomsData=a.data,e.symptomsData.thumb&&(e.Thumbnailurl=e.symptomsData.thumb),e.symptomsData.thumb_mini&&(e.Thumbnailurls=e.symptomsData.thumb_mini);var t=[];for(var l in e.symptomsData.label_id)"0"==e.symptomsData.label_id[l]?t.push(e.symptomsData.label_id[l]):t.push(parseInt(e.symptomsData.label_id[l]));e.symptomsData.label_id=t,e.dialogUpdate=!0})},savedel:function(){var a,e=this,t=this;(a=this.Code,Object(l.a)({url:"/health/survey/"+a,method:"DELETE"})).then(function(a){1===a.status_code&&(t.getData(),t.dialogVisiblesx=!1,t.$message({message:"删除成功！",type:"success"}),t.$refs.multipleTable.clearSelection()),e.dialogVisiblesx=!1})},delData:function(a){if(a)this.$refs.multipleTable.toggleRowSelection(a,!0),this.Code=a.id,this.dialogVisiblesx=!0;else if(console.log(this.multipleSelection),this.multipleSelection.length>0){this.dialogVisiblesx=!0;var e="";this.multipleSelection.forEach(function(a,t){e+=a.id+","}),this.Code=e.slice(0,e.lastIndexOf(","))}else this.$message({message:"警告哦，请选择一条或者您要删除的多条数据！",type:"warning"})},addsave:function(){var a,e=this,t=new FormData;t.append("title",this.symptomsData.title),t.append("label_id",this.symptomsData.label_id),t.append("displayorder",this.symptomsData.displayorder),t.append("top",this.symptomsData.top),t.append("thumb",this.symptomsData.thumb),t.append("thumb_mini",this.symptomsData.thumb_mini),(a=t,Object(l.a)({url:"/health/survey",method:"POST",data:a})).then(function(a){1===a.status_code&&(e.$message.success({message:"新增成功!",type:"success"}),e.dialogcreate=!1,e.getData())})},upsave:function(){var a,e,t=this,i=new FormData;i.append("title",this.symptomsData.title),i.append("label_id",this.symptomsData.label_id),i.append("displayorder",this.symptomsData.displayorder),i.append("top",this.symptomsData.top),i.append("thumb",this.symptomsData.thumb),i.append("thumb_mini",this.symptomsData.thumb_mini),(a=i,e=this.symptomsData.id,Object(l.a)({url:"/health/surveyUpdate/"+e,method:"POST",data:a})).then(function(a){1===a.status_code&&(t.$message.success({message:"修改成功!",type:"success"}),t.dialogUpdate=!1,t.getData())})},removeClose:function(){this.symptomsData={title:"",thumb:"",thumb_mini:"",displayorder:"",label_id:[],top:""},this.$refs.multipleTable.clearSelection()}}},n={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"questionnaire"},[t("div",{staticClass:"contanier_top"},[t("div",{staticClass:"top-left"},[t("span",[t("el-input",{attrs:{placeholder:"请输入问卷名称或id",clearable:""},model:{value:a.listQuery.point,callback:function(e){a.$set(a.listQuery,"point",e)},expression:"listQuery.point"}})],1),a._v(" "),t("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:a.getData}},[a._v("查询")])],1),a._v(" "),t("div",{staticClass:"top-right"},[t("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-plus"},on:{click:function(e){a.dialogcreate=!0}}},[a._v("新增")]),a._v(" "),t("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-delete"},on:{click:function(e){a.delData()}}},[a._v("删除")])],1)]),a._v(" "),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:a.list,border:"",fit:"","highlight-current-row":"","row-key":a.getRowkey},on:{"selection-change":a.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"95px","reserve-selection":!0}}),a._v(" "),t("el-table-column",{attrs:{prop:"id",label:"ID",align:"center"}}),a._v(" "),t("el-table-column",{attrs:{prop:"title",label:"名称",align:"center"}}),a._v(" "),t("el-table-column",{attrs:{prop:"thumb",label:"缩略图",align:"center"},scopedSlots:a._u([{key:"default",fn:function(a){return[t("img",{staticStyle:{width:"50px",height:"50px","border-radius":"50%"},attrs:{src:a.row.thumb,onerror:"this.src='../static/image/aaa.png'"}})]}}])}),a._v(" "),t("el-table-column",{attrs:{prop:"thumb_mini",label:"图标",align:"center"},scopedSlots:a._u([{key:"default",fn:function(a){return[t("img",{staticStyle:{width:"50px",height:"50px","border-radius":"50%"},attrs:{src:a.row.thumb_mini,onerror:"this.src='../static/image/aaa.png'"}})]}}])}),a._v(" "),t("el-table-column",{attrs:{prop:"displayorder",label:"排序值",align:"center"}}),a._v(" "),t("el-table-column",{attrs:{prop:"label_id",label:"标签",align:"center"},scopedSlots:a._u([{key:"default",fn:function(e){return a._l(e.row.label,function(e,l){return t("el-tag",{key:l},[a._v(a._s(e))])})}}])}),a._v(" "),t("el-table-column",{attrs:{prop:"top",label:"是否置顶",align:"center"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("span",{directives:[{name:"show",rawName:"v-show",value:0===e.row.top,expression:"scope.row.top===0"}]},[a._v("是")]),a._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:1===e.row.top,expression:"scope.row.top===1"}]},[a._v("否")])]}}])}),a._v(" "),t("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("span",{directives:[{name:"show",rawName:"v-show",value:1===e.row.enabled,expression:"scope.row.enabled===1"}]},[t("el-switch",{attrs:{disabled:""},model:{value:a.value1,callback:function(e){a.value1=e},expression:"value1"}})],1),a._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:0===e.row.enabled,expression:"scope.row.enabled===0"}]},[t("el-switch",{attrs:{disabled:""},model:{value:a.value2,callback:function(e){a.value2=e},expression:"value2"}})],1)]}}])}),a._v(" "),t("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"200"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("el-button",{attrs:{type:"primary",plain:!0},nativeOn:{click:function(t){t.preventDefault(),a.upData(e.row.id)}}},[a._v("修改")]),a._v(" "),t("el-button",{attrs:{type:"primary",plain:!0},nativeOn:{click:function(t){t.preventDefault(),a.delData(e.row)}}},[a._v("删除")])]}}])})],1),a._v(" "),t("el-dialog",{attrs:{title:"删除",visible:a.dialogVisiblesx,width:"35em"},on:{"update:visible":function(e){a.dialogVisiblesx=e}}},[t("span",[a._v("亲,确定删除吗?")]),a._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(e){a.dialogVisiblesx=!1}}},[a._v("取 消")]),a._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:a.savedel}},[a._v("确 定")])],1)]),a._v(" "),t("el-dialog",{attrs:{title:"新增",visible:a.dialogcreate,width:"40em"},on:{"update:visible":function(e){a.dialogcreate=e},close:a.removeClose}},[t("ul",{attrs:{name:"dialogbody"}},[t("li",[t("label",[a._v("问卷名称：")]),a._v(" "),t("span",[t("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:a.symptomsData.title,callback:function(e){a.$set(a.symptomsData,"title",e)},expression:"symptomsData.title"}})],1)]),a._v(" "),t("li",[t("label",[a._v("排序值：")]),a._v(" "),t("span",[t("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:a.symptomsData.displayorder,callback:function(e){a.$set(a.symptomsData,"displayorder",e)},expression:"symptomsData.displayorder"}})],1)]),a._v(" "),t("li",[t("label",[a._v("问卷标签：")]),a._v(" "),t("span",[t("el-select",{attrs:{multiple:"",placeholder:"请选择","value-key":"id"},model:{value:a.symptomsData.label_id,callback:function(e){a.$set(a.symptomsData,"label_id",e)},expression:"symptomsData.label_id"}},[t("el-option",{attrs:{value:"0"}},[a._v("基础")]),a._v(" "),a._l(a.options,function(a){return t("el-option",{key:a.id,attrs:{label:a.title,value:a.id}})})],2)],1)]),a._v(" "),t("li",{attrs:{name:"li_jingji"}},[t("label",[a._v("是否置顶：")]),a._v(" "),t("span",[t("el-radio-group",{model:{value:a.symptomsData.top,callback:function(e){a.$set(a.symptomsData,"top",e)},expression:"symptomsData.top"}},[t("el-radio",{attrs:{label:0}},[a._v("是")]),a._v(" "),t("el-radio",{attrs:{label:1}},[a._v("否")])],1)],1)]),a._v(" "),t("li",[t("label",[a._v("缩略图：")]),a._v(" "),t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!1,"before-upload":a.beforeThumbnail}},[a.symptomsData.thumb?t("img",{staticClass:"avatar",attrs:{src:a.Thumbnailurl,onerror:"this.src='../static/image/aaa.png'"}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a._v(" "),t("li",[t("label",[a._v("图标：")]),a._v(" "),t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!1,"before-upload":a.beforeThumbnails}},[a.symptomsData.thumb_mini?t("img",{staticClass:"avatar",attrs:{src:a.Thumbnailurls,onerror:"this.src='../static/image/aaa.png'"}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)]),a._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(e){a.dialogcreate=!1}}},[a._v("取 消")]),a._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:a.addsave}},[a._v("确 定")])],1)]),a._v(" "),t("el-dialog",{attrs:{title:"编辑",visible:a.dialogUpdate,width:"40em"},on:{"update:visible":function(e){a.dialogUpdate=e},close:a.removeClose}},[t("ul",{attrs:{name:"dialogbody"}},[t("li",[t("label",[a._v("问卷名称：")]),a._v(" "),t("span",[t("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:a.symptomsData.title,callback:function(e){a.$set(a.symptomsData,"title",e)},expression:"symptomsData.title"}})],1)]),a._v(" "),t("li",[t("label",[a._v("排序值：")]),a._v(" "),t("span",[t("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:a.symptomsData.displayorder,callback:function(e){a.$set(a.symptomsData,"displayorder",e)},expression:"symptomsData.displayorder"}})],1)]),a._v(" "),t("li",[t("label",[a._v("问卷标签：")]),a._v(" "),t("span",[t("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:a.symptomsData.label_id,callback:function(e){a.$set(a.symptomsData,"label_id",e)},expression:"symptomsData.label_id"}},[t("el-option",{attrs:{value:"0",label:"基础"}},[a._v("基础")]),a._v(" "),a._l(a.options,function(a){return t("el-option",{key:a.id,attrs:{label:a.title,value:a.id}})})],2)],1)]),a._v(" "),t("li",{attrs:{name:"li_jingji"}},[t("label",[a._v("是否置顶：")]),a._v(" "),t("span",[t("el-radio-group",{model:{value:a.symptomsData.top,callback:function(e){a.$set(a.symptomsData,"top",e)},expression:"symptomsData.top"}},[t("el-radio",{attrs:{label:0}},[a._v("是")]),a._v(" "),t("el-radio",{attrs:{label:1}},[a._v("否")])],1)],1)]),a._v(" "),t("li",[t("label",[a._v("缩略图：")]),a._v(" "),t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!1,"before-upload":a.beforeThumbnail}},[a.symptomsData.thumb?t("img",{staticClass:"avatar",attrs:{src:a.Thumbnailurl,onerror:"this.src='../static/image/aaa.png'"}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a._v(" "),t("li",[t("label",[a._v("图标：")]),a._v(" "),t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!1,"before-upload":a.beforeThumbnails}},[a.symptomsData.thumb_mini?t("img",{staticClass:"avatar",attrs:{src:a.Thumbnailurls,onerror:"this.src='../static/image/aaa.png'"}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)]),a._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(e){a.dialogUpdate=!1}}},[a._v("取 消")]),a._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:a.upsave}},[a._v("确 定")])],1)]),a._v(" "),t("div",{staticClass:"block"},[t("el-pagination",{attrs:{"current-page":a.currentPage3,"page-size":15,layout:"prev, pager, next, jumper",total:a.pagelist.count},on:{"size-change":a.handleSizeChange,"current-change":a.handleCurrentChange,"update:currentPage":function(e){a.currentPage3=e}}})],1)],1)},staticRenderFns:[]};var o=t("VU/8")(i,n,!1,function(a){t("9NPw")},"data-v-11ab4157",null);e.default=o.exports}});