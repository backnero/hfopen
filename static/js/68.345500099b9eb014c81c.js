webpackJsonp([68],{HTH9:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=e("YC1Z"),r=e("4mdi"),n={data:function(){return{doctorData:{},updatedoctorData:{organ_id:"",description:"",thumb:null,name:null,enabled:"",visit_info:"",call_title:null,department:null,phone:""},Organcate:"",imageUrl:"",ifimageUrl:!1,oneimagsfile:""}},mounted:function(){this.getOrganList(),this.getDoctorId(this.$route.query.id)},methods:{getOrganList:function(){var t=this;Object(o.d)().then(function(a){t.Organcate=a.data})},uploadFile:function(t){return this.updatedoctorData.thumb=t,this.encodeBase64(t),this.ifimageUrl=!0,!1},encodeBase64:function(t){var a=new FileReader;a.readAsDataURL(t);var e=this;a.onloadend=function(){e.imageUrl=a.result}},getDoctorId:function(t){var a=this,e=this;Object(r.c)(t).then(function(t){e.doctorData=t.data,t.data.thumb&&(a.imageUrl=t.data.thumb,a.ifimageUrl=!0),e.updatedoctorData.id=e.doctorData.id,e.updatedoctorData.organ_id=e.doctorData.organ_id,e.updatedoctorData.enabled=e.doctorData.enabled,e.updatedoctorData.description=e.doctorData.description,e.updatedoctorData.thumb=e.doctorData.thumb,e.updatedoctorData.department=e.doctorData.department,e.updatedoctorData.call_title=e.doctorData.call_title,e.updatedoctorData.phone=e.doctorData.phone,e.updatedoctorData.visit_info=e.doctorData.visit_info,e.updatedoctorData.name=e.doctorData.name})},updateDoctor:function(){var t=this,a=this,e=new FormData;e.append("organ_id",this.updatedoctorData.organ_id),e.append("name",this.updatedoctorData.name),e.append("description",this.updatedoctorData.description),e.append("enabled",this.updatedoctorData.enabled),e.append("thumb",this.updatedoctorData.thumb),e.append("visit_info",this.updatedoctorData.visit_info),e.append("call_title",this.updatedoctorData.call_title),e.append("phone",this.updatedoctorData.phone),e.append("department",this.updatedoctorData.department),Object(r.e)(e,this.updatedoctorData.id).then(function(e){1==e.status_code&&(a.$router.push("../community/doctorindex"),t.$message({message:"修改成功！",type:"success"}))})}}},d={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"app-container"},[e("h3",[t._v("修改医生")]),t._v(" "),e("div",{staticClass:"form-group-fleximg"},[e("label",{staticClass:"fonttype",attrs:{for:"group1"}},[t._v("医生照片")]),t._v(" "),e("div",{staticClass:"slimagesfile"},[e("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","list-type":"picture-card","show-file-list":!1,"before-upload":t.uploadFile}},[t.ifimageUrl?e("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"fonttype"},[t._v("医生姓名")]),t._v(" "),e("el-input",{staticClass:"inputtext",attrs:{placeholder:"请输入姓名"},model:{value:t.updatedoctorData.name,callback:function(a){t.$set(t.updatedoctorData,"name",a)},expression:"updatedoctorData.name"}})],1),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"fonttype"},[t._v("医生简介")]),t._v(" "),e("el-input",{staticClass:"inputtext",attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入简介"},model:{value:t.updatedoctorData.description,callback:function(a){t.$set(t.updatedoctorData,"description",a)},expression:"updatedoctorData.description"}})],1),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"fonttype"},[t._v("所属机构")]),t._v(" "),e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.updatedoctorData.organ_id,callback:function(a){t.$set(t.updatedoctorData,"organ_id",a)},expression:"updatedoctorData.organ_id"}},t._l(t.Organcate,function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"fonttype"},[t._v("出诊信息")]),t._v(" "),e("el-input",{staticClass:"inputtext",attrs:{placeholder:"请输入出诊信息"},model:{value:t.updatedoctorData.visit_info,callback:function(a){t.$set(t.updatedoctorData,"visit_info",a)},expression:"updatedoctorData.visit_info"}})],1),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"fonttype"},[t._v("医生职称")]),t._v(" "),e("el-input",{staticClass:"inputtext",attrs:{placeholder:"请输入职称"},model:{value:t.updatedoctorData.call_title,callback:function(a){t.$set(t.updatedoctorData,"call_title",a)},expression:"updatedoctorData.call_title"}})],1),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"fonttype"},[t._v("医生科室")]),t._v(" "),e("el-input",{staticClass:"inputtext",attrs:{placeholder:"请输入科室"},model:{value:t.updatedoctorData.department,callback:function(a){t.$set(t.updatedoctorData,"department",a)},expression:"updatedoctorData.department"}})],1),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"fonttype"},[t._v("电话号码")]),t._v(" "),e("el-input",{staticClass:"inputtext",attrs:{placeholder:"请输入电话号码"},model:{value:t.updatedoctorData.phone,callback:function(a){t.$set(t.updatedoctorData,"phone",a)},expression:"updatedoctorData.phone"}})],1),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"fonttype"},[t._v("医生状态")]),t._v(" "),e("el-radio",{attrs:{label:0},model:{value:t.updatedoctorData.enabled,callback:function(a){t.$set(t.updatedoctorData,"enabled",a)},expression:"updatedoctorData.enabled"}},[t._v("未启用")]),t._v(" "),e("el-radio",{attrs:{label:1},model:{value:t.updatedoctorData.enabled,callback:function(a){t.$set(t.updatedoctorData,"enabled",a)},expression:"updatedoctorData.enabled"}},[t._v("启用")])],1),t._v(" "),e("el-button",{staticClass:"btn-primary",attrs:{type:"primary",plain:""},on:{click:t.updateDoctor}},[t._v("完成")])],1)},staticRenderFns:[]};var i=e("VU/8")(n,d,!1,function(t){e("SYqr")},"data-v-4cfa90f4",null);a.default=i.exports},SYqr:function(t,a,e){var o=e("qypL");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);e("rjj0")("1dbff721",o,!0)},qypL:function(t,a,e){(t.exports=e("FZ+f")(!1)).push([t.i,"\n.app-container[data-v-4cfa90f4] {\r\n  margin-left: 180px;\n}\n.form-group[data-v-4cfa90f4]{\r\n  margin-top: 20px;\n}\n.fonttype[data-v-4cfa90f4] {\r\n  font: 16px Medium;\r\n  color: #303133;\r\n  margin-right: 16px;\n}\n.inputtext[data-v-4cfa90f4] {\r\n  width: 360px;\n}\n.form-group-fleximg[data-v-4cfa90f4] {\r\n    margin-top: 20px;\r\n display: -webkit-box;\r\n display: -ms-flexbox;\r\n display: flex;\r\n -ms-flex-wrap: wrap;\r\n     flex-wrap: wrap;\n}\n.btn-primary[data-v-4cfa90f4] {\r\n  margin-left: 180px;\r\n  margin-top: 20px;\r\n  width: 80px;\n}\n.avatar-uploader .el-upload[data-v-4cfa90f4] {\r\n  border: 1px dashed #cecbcb;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\n}\n.avatar-uploader .el-upload[data-v-4cfa90f4]:hover {\r\n  border-color: #409eff;\n}\n.avatar-uploader-icon[data-v-4cfa90f4] {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 148px;\r\n  height: 148px;\r\n  line-height: 148px;\r\n  text-align: center;\n}\n.avatar[data-v-4cfa90f4] {\r\n  width: 148px;\r\n  height: 148px;\r\n  display: block;\n}\r\n",""])}});